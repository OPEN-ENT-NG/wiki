<div class="three cell" ng-include="template.containers.sideMenu"></div>

<article ng-if="selectedWiki.page !== undefined" class="nine cell vertical-spacing">
	<div class="row">
		<div class="nine cell">
			<h2>[[selectedWiki.page.title]]</h2>
			<em ng-if="selectedWiki.page.modified">
				<i18n>wiki.last.modification.by</i18n> 
				<a href="/userbook/annuaire#/[[selectedWiki.page.author]]">[[selectedWiki.page.authorName]]</a>  
				<i18n>wiki.on</i18n> [[getDateAndTime(selectedWiki.page.modified)]]
			</em>
		</div>
		<div class="three cell">
			<div class="display-buttons">
				<behaviour name="editPage" resource="selectedWiki" class="cell">
					<button ng-click="editPage(selectedWiki)" translate content="wiki.page.edit"></button>
				</behaviour>
				<behaviour name="deletePage" resource="selectedWiki" class="cell">
					<button ng-click="display.showConfirmDeletePage = true;" translate content="wiki.page.delete"></button>
				</behaviour>
			</div>
		</div>
	</div>
	<div class="row">
		<hr />
	</div>
	
	<div bind-html="selectedWiki.page.content" />
</article>

<!-- Lightbox to confirm page deletion -->
<lightbox show="display.showConfirmDeletePage" on-close="display.showConfirmDeletePage = false">
<h2><i18n>wiki.page.confirmdeleteform.title</i18n></h2>
<p><i18n>wiki.page.confirmdeleteform.message</i18n></p>
<div class="row">
	<button ng-click="deletePage(); display.showConfirmDeletePage = false;" class="right-magnet">
		<i18n>wiki.page.confirmdeleteform.title.delete</i18n>
	</button>
	<button ng-click="display.showConfirmDeletePage = false" class="cancel right-magnet">
		<i18n>wiki.page.confirmdeleteform.title.cancel</i18n>
	</button>
</div>
</lightbox>